"use strict";let BuxlViewPrototype=function(e){if(this.elements=e,this.events=e.events,this.eventfunctions={},this.elements.templates)for(let e=0;e<this.elements.templates.length;e++){let t=this.elements.templates[e],r=document.getElementById(t);jsrender.templates(t,r)}if(this.elements.targetTemplate){let e=document.getElementById(this.elements.targetTemplate);this.template=jsrender.templates(this.elements.targetTemplate,e)}};BuxlViewPrototype.prototype.registerEventsPerTrigger=function(e,t,r,n){for(let a,o=0;o<r.length;o++)a=t,e.removeEventListener(r[o],this.eventfunctions[a],!0),n&&e.addEventListener(r[o],this.eventfunctions[a],!0)},BuxlViewPrototype.prototype.registerEvents=function(e){if(this.events)for(let t,r=0;r<this.events.length;r++)if(t=this.events[r].triggers.split(" "),"window"===this.events[r].target)this.registerEventsPerTrigger(window,this.events[r].f,t,e);else{let n=document.querySelectorAll(this.events[r].target);for(let a=0;a<n.length;a++)this.registerEventsPerTrigger(n[a],this.events[r].f,t,e)}},BuxlViewPrototype.prototype.render=function(e,t){let r=jsrender.render[this.elements.targetTemplate](e?e:{}),n=document.getElementById(this.elements.targetView);n.innerHTML=r,t&&this.registerEvents(!0)},BuxlViewPrototype.prototype.routeTo=function(e,t){if(t)location.hash="#/"+e+"/"+t;else{let t=new CustomEvent("hiddenroute",{detail:"#/"+e+"/"});window.dispatchEvent(t)}},BuxlViewPrototype.prototype.linkEventsToController=function(e){if(e&&this.events)for(let t=0;t<this.events.length;t++){let r=this.events[t].f,n=e,a=n.onEvent(r);a&&(this.eventfunctions[r]=a.bind(n))}},BuxlViewPrototype.prototype.clearRender=function(){let e=document.getElementById(this.elements.targetView);e&&(e.innerHTML="")};let BuxlControllerPrototype=function(){this.events=[]};BuxlControllerPrototype.prototype.onEvent=function(e){let t=this.events[e];return t?t:(console.log("[Warning] Event not found"),null)},BuxlControllerPrototype.prototype.route=function(e){},BuxlControllerPrototype.prototype.init=function(){this.view&&this.view.linkEventsToController(this)},BuxlControllerPrototype.prototype.register=function(e,t){this.view=e,this.model=t};let BuxlFooterController=function(){BuxlControllerPrototype.call(this)};BuxlFooterController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlFooterController.prototype.route=function(e){this.view.render()};let BuxlGameController=function(){BuxlControllerPrototype.call(this)};BuxlGameController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlGameController.prototype.onKeyPressLetterEvent=function(t){t.stopImmediatePropagation();let e=String.fromCharCode(t.which);if(e.match("\\?"))return void this.solutionManagerEvent(t);if(e.match(/^[a-zA-ZẞßÄÖÜäüö]+$/)){e=e.match(/^ß$/)?"\u1E9E":e.toUpperCase();let t=this.model.getHashesByLetter(e);t&&this.performSelectLetter(t.selectedLetter,t.oppositeLetter)}},BuxlGameController.prototype.onSelectLetterEvent=function(t){t.stopPropagation(),t.preventDefault();let e=t.target,r=null;if(r=0<e.childElementCount?e.dataset.gameBtnId?e.dataset.gameBtnId:e.parentElement.dataset.gameBtnId?e.parentElement.dataset.gameBtnId:e.firstElementChild.dataset.gameBtnId:e.parentElement.parentElement.dataset.gameBtnId,!r)return void console.log("Element could not be found"+t.target);let n=r.substring(0,1),a=r.substring(1),o=("f"===n?"b":"f")+a;this.performSelectLetter(r,o)},BuxlGameController.prototype.performSelectLetter=function(e,t){this.model.selectedLetterExists(e)?(this.model.delSelectedLetter(e),this.view.setSelectedLetterInactive(e,t)):this.model.selectedLetterExists(t)?(this.model.swapSelectedLetter(t,e),this.view.swapLetter(t,e)):(this.model.setSelectedLetter(e),this.view.setSelectedLetter(e,t));let r=this.model.getSelectedLetters();if(this.view.setSelectedLetters(r),r.length===this.model.getWordLength()){let e=this.model.getSolutions().indexOf(r);if(-1!==e){let e=this.model.addSolved();if(0===this.model.getUnsolvedCount()){let e=this.model.getCurrentBuxl();this.createNewRandomGame(),this.view.animateGameFinished(e,this.model.getCurrentBuxl())}else e?this.view.animateSolved(this.model.getCurrentBuxl()):this.view.animateSolved(this.model.getCurrentBuxl())}else this.view.animateWrongWord(this.model.getCurrentBuxl());this.model.delAllSelectedLetters()}},BuxlGameController.prototype.solutionManagerEvent=function(t){t.stopPropagation(),t.preventDefault();let e=new Uint32Array(1),r=this.model.unsolved.slice(),n=this.model.selectedLetters;window.crypto.getRandomValues(e);let a=this.model.unsolved[e%r.length][0],o=!1;for(let e=0;e<n.length;e++)for(let t,s=0;s<r.length;s++)if(t=this.model.getLetterById(n[e]),t.match(r[s][e]))o||(a=r[s][e+1]);else if(t.match("_")){o||(o=!0,a=r[s][e]);break}else{r.splice(s,1),e--;break}if(0===r.length)this.view.animateHintError();else{let e=this.model.getHashesByLetter(a);this.view.animateHint(e.selectedLetter)}},BuxlGameController.prototype.createNewRandomGame=function(){let e=new Uint32Array(1),t=this.model.getBuxlsCount();window.crypto.getRandomValues(e);this.model.setCurrentBuxlById(e%t)},BuxlGameController.prototype.route=function(e,t){t?this.model.setCurrentBuxl(t)?this.view.render(this.model.getCurrentBuxl(),!0):this.view.routeTo("buxl",null):(this.createNewRandomGame(),this.view.animateGameReload(this.model.getCurrentBuxl()))},BuxlGameController.prototype.register=function(e,t){BuxlControllerPrototype.prototype.register.call(this,e,t),this.events.onSelectLetterEvent=this.onSelectLetterEvent,this.events.onKeyPressLetterEvent=this.onKeyPressLetterEvent,this.events.onClickSolutionEvent=this.solutionManagerEvent};let BuxlIntroController=function(){BuxlControllerPrototype.call(this)};BuxlIntroController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlIntroController.prototype.onLogoClickEvent=function(){this.view.animateLogo()},BuxlIntroController.prototype.register=function(e,t){BuxlControllerPrototype.prototype.register.call(this,e,t),this.events.onLogoClickEvent=this.onLogoClickEvent},BuxlIntroController.prototype.init=function(e){BuxlControllerPrototype.prototype.init.call(this),this.view.render(e,!0)};let BuxlLegalController=function(){BuxlControllerPrototype.call(this)};BuxlLegalController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlLegalController.prototype.route=function e(e){this.view.render(e)},BuxlLegalController.prototype.init=function(){BuxlControllerPrototype.prototype.init.call(this)};let BuxlListController=function(){BuxlControllerPrototype.call(this)};BuxlListController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlListController.prototype.route=function(e){let t=this.model.getFavoritesList();this.view.render(t,!1)},BuxlListController.prototype.register=function(e,t){BuxlControllerPrototype.prototype.register.call(this,e,t)},BuxlListController.prototype.init=function(){BuxlControllerPrototype.prototype.init.call(this)};let BuxlNavigationController=function(){BuxlControllerPrototype.call(this),this.currentGameHash=null};BuxlNavigationController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlNavigationController.prototype.triggerAction=function(e,t){switch(!0){case e.contains("shuffle"):return this.view.routeTo("buxl",null),!0;case e.contains("listFavorites"):return this.view.routeTo("favorites","list"),!0;case e.contains("favorite"):return this.toggleFavorite(t),!0;case e.contains("playBuxl"):return this.view.routeTo("buxl",t),!0;case e.contains("showSolutions"):return this.view.showSolutions(t),!0;case e.contains("goBack"):return this.view.goBack(),!0;}return!1},BuxlNavigationController.prototype.onNavigationClickEvent=function(t){if(t.stopPropagation(),t.preventDefault(),!!t.target){let e=t.currentTarget.dataset.gameHash;t.target.parentElement&&this.triggerAction(t.target.parentElement.classList,e)||t.target.firstElementChild&&this.triggerAction(t.target.firstElementChild.classList,e)}},BuxlNavigationController.prototype.toggleFavorite=function(e){if(e){let t=this.model.toggleFavorite(e);this.model.mergeUnsavedFavorites(),this.model.saveFavorites();let r={isFavorite:t,route:this.currentRoute,gameHash:e};this.view.toggleFavorite(r)}},BuxlNavigationController.prototype.route=function e(e,t){if(this.currentRoute=e,"buxl"===e&&t){let r=this.model.isFavorite(t);this.view.render({isFavorite:r,route:e,gameHash:t},!0)}else"favorites"===e&&this.view.registerEvents(!0)},BuxlNavigationController.prototype.register=function(e,t){this.events.onNavigationClickEvent=this.onNavigationClickEvent,this.renders=[],BuxlControllerPrototype.prototype.register.call(this,e,t)},BuxlNavigationController.prototype.init=function(){BuxlControllerPrototype.prototype.init.call(this),this.model.loadFavorites()};let BuxlRoutingController=function(){this.controllers={},this.routes={},this.events={};let e=[];e.push({target:"window",triggers:"hashchange hiddenroute",f:"doRouting"}),this.view=new BuxlRoutingView({targetView:null,targetTemplate:null,events:e}),this.events.doRouting=this.doRouting,this.view.linkEventsToController(this)};BuxlRoutingController.prototype=Object.create(BuxlControllerPrototype.prototype),BuxlRoutingController.prototype.register=function(e,t,r){if(e){let n=this.controllers[e];n.register(t,r)}},BuxlRoutingController.prototype.doRouting=function(t){let e=null;t&&(t.stopImmediatePropagation(),t.detail&&(e=t.detail)),e||(e=window.location.hash),e=e.substring(2).split("/"),this.route(e[0],e[1])},BuxlRoutingController.prototype.route=function e(e,t){if(""===e)return void this.routeDefault();let r=this.routes[e],n=!1;this.latestRoute!==e&&this.unregisterEvents(),this.latestRoute=e;for(let a=0;a<r.length;a++)r[a]&&(n=!0,r[a].route(e,t));n||this.routeDefault()},BuxlRoutingController.prototype.routeDefault=function(){this.view.routeTo("buxl",null)},BuxlRoutingController.prototype.registerRoutes=function(){this.controllers.buxlgame=new BuxlGameController,this.controllers.intro=new BuxlIntroController,this.controllers.footer=new BuxlFooterController,this.controllers.navbar=new BuxlNavigationController,this.controllers.list=new BuxlListController,this.controllers.legal=new BuxlLegalController,this.routes.buxl=[],this.routes.buxl.push(this.controllers.buxlgame),this.routes.buxl.push(this.controllers.navbar),this.routes.buxl.push(this.controllers.footer),this.routes.favorites=[],this.routes.favorites.push(this.controllers.list),this.routes.favorites.push(this.controllers.navbar),this.routes.favorites.push(this.controllers.footer),this.routes.imprint=[],this.routes.imprint.push(this.controllers.legal),this.routes.imprint.push(this.controllers.footer),this.routes.privacy=[],this.routes.privacy.push(this.controllers.legal),this.routes.privacy.push(this.controllers.footer)},BuxlRoutingController.prototype.unregisterEvents=function(){for(let e in this.controllers)this.controllers[e].view&&(this.controllers[e].view.registerEvents(!1),this.controllers[e].view.clearRender())},BuxlRoutingController.prototype.init=function(){for(let e in this.controllers)this.controllers[e].init(this.doRouting.bind(this));this.view.registerEvents(!0)};let BuxlFavoritesModel=function(){this.savedFavorites=[],this.unsavedFavorites=[],this.trashedFavorites=[],this.storageKey="buxlStoredFavorites"};BuxlFavoritesModel.prototype.getFavorites=function(){return this.savedFavorites},BuxlFavoritesModel.prototype.loadFavorites=function(){this.unsavedFavorites=[],this.trashedFavorites=[];let e=localStorage.getItem(this.storageKey);this.savedFavorites=e?JSON.parse(e):[]},BuxlFavoritesModel.prototype.saveFavorites=function(){localStorage.setItem(this.storageKey,JSON.stringify(this.savedFavorites)),this.unsavedFavorites=[],this.trashedFavorites=[]},BuxlFavoritesModel.prototype.mergeUnsavedFavorites=function(){this.savedFavorites=this.savedFavorites.concat(this.unsavedFavorites),this.unsavedFavorites=[],this.trashedFavorites=[]},BuxlFavoritesModel.prototype.isFavorite=function(e){return-1!==this.savedFavorites.indexOf(e)},BuxlFavoritesModel.prototype.toggleFavorite=function(e){let t=!1,r=-1;return this.isFavorite(e)?(r=this.savedFavorites.indexOf(e),this.savedFavorites.splice(r,1),this.trashedFavorites.unshift(e)):-1===this.unsavedFavorites.indexOf(e)?(this.unsavedFavorites.unshift(e),t=!0):(i=this.unsavedFavorites.indexOf(e),this.unsavedFavories.splice(r,1),this.trashedFavorites.unshift(e)),t};let BuxlGameModel=function(e){this.buxls=e,this.currentGameHash=-1,this.wordLength=-1,this.selectedLetters=[],this.unsolved=[],this.solved=[],this.unsolvedHiddenChar="&ensp;",this.unsolvedHiddenChars="",this.latestSolvedPosition=0};BuxlGameModel.prototype.getBuxlsCount=function(){return Object.keys(this.buxls).length},BuxlGameModel.prototype.getCurrentBuxl=function(){let e=this.getBuxl(this.currentGameHash);return e.solved=this.solved,e.unsolved=this.unsolved,e.unsolvedHiddenChars=this.unsolvedHiddenChars,e.latestSolvedPosition=this.latestSolvedPosition,e},BuxlGameModel.prototype.getBuxl=function(e){let t=this.buxls[e];return t?{gameHash:e,front:t.f,back:t.b,solutions:t.s}:null},BuxlGameModel.prototype.setCurrentBuxlById=function(e){let t=Object.keys(this.buxls);return t[e]?this.setCurrentBuxl(t[e]):this.setCurrentBuxl(null)},BuxlGameModel.prototype.setCurrentBuxl=function(e){return e&&!this.getBuxl(e)?(this.selectedLetters=[],this.unsolved=[],this.solved=[],this.latestSolvedPosition=0,!1):(this.currentGameHash!==e&&(this.selectedLetters=[],this.unsolved=[],this.solved=[],this.latestSolvedPosition=0,this.currentGameHash=e,this.wordLength=this.getBuxl(this.currentGameHash).solutions[0].length,this.unsolvedHiddenChars=this.unsolvedHiddenChar.repeat(this.wordLength),this.generateUnsolvedList()),!0)},BuxlGameModel.prototype.generateUnsolvedList=function(){let e=this.getBuxl(this.currentGameHash).solutions,t=e.length;this.unsolved=[];for(let r=0;r<t;r++)-1===this.solved.indexOf(e[r])&&this.unsolved.unshift(e[r])},BuxlGameModel.prototype.getUnsolvedCount=function(){return this.unsolved.length},BuxlGameModel.prototype.selectedLetterExists=function(e){for(let t=0;t<this.selectedLetters.length;t++)if(this.selectedLetters[t]===e)return!0},BuxlGameModel.prototype.setSelectedLetter=function(e){let t=0;for(;t<this.selectedLetters.length;t++)if("_"===this.selectedLetters[t])return this.selectedLetters[t]=e,t;return this.selectedLetters.push(e),t},BuxlGameModel.prototype.getHashesByLetter=function(e){let t=this.getBuxl(this.currentGameHash),r={},n=!1,a=0;for(;a<t.front.length;a++){if(t.front[a]===e){r.selectedLetter="f"+a,n=!0;break}if(t.back[a]===e){r.selectedLetter="b"+a,n=!1;break}}return r.selectedLetter?(r.oppositeLetter=(n?"b":"f")+a,r):null},BuxlGameModel.prototype.swapSelectedLetter=function(e,t){for(let r=0;r<this.selectedLetters.length;r++)if(this.selectedLetters[r]===e)return void(this.selectedLetters[r]=t)},BuxlGameModel.prototype.delSelectedLetter=function(e){for(let t=0;t<this.selectedLetters.length;t++)if(this.selectedLetters[t]===e)return this.selectedLetters[t]="_",!0},BuxlGameModel.prototype.delAllSelectedLetters=function(){this.selectedLetters=[]},BuxlGameModel.prototype.getSelectedLetters=function(){let e="";for(let t=0;t<this.selectedLetters.length;t++)e+=this.getLetterById(this.selectedLetters[t]);return e},BuxlGameModel.prototype.getLetterById=function(e){if("_"===e)return"_";let t=e.substring(0,1),r=e.substring(1),n=this.getBuxl(this.currentGameHash);if(!t)return null;return"f"===t?n.front[r]:"b"===t?n.back[r]:null},BuxlGameModel.prototype.getWordLength=function(){return this.wordLength},BuxlGameModel.prototype.getSolutions=function(){return this.getBuxl(this.currentGameHash).solutions},BuxlGameModel.prototype.addSolved=function(){let e=this.getSelectedLetters(),t=this.solved.indexOf(e);return-1===t?(this.solved.unshift(e),this.generateUnsolvedList(),this.latestSolvedPosition=0,!0):(this.latestSolvedPosition=t,!1)};let BuxlListModel=function(e){this.buxlGameModel=e.buxlGameModel,this.buxlFavoritesModel=e.buxlFavoritesModel};BuxlListModel.prototype.getFavoritesList=function(){this.buxlFavoritesModel.savedFavorites||this.buxlFavoritesModel.loadFavorites();let e=this.buxlFavoritesModel.savedFavorites,t=this.buxlFavoritesModel.trashedFavorites,r=[];for(let t,n=0;n<e.length;n++)t=this.buxlGameModel.getBuxl(e[n]),t&&(t.solved=t.solutions,t.isFavorite=!0,r.push(t));return 0===r.length&&r.push({front:["K","E","I","N"],back:["B","U","X","L"]}),r};var $jscomp={scope:{}};$jscomp.defineProperty="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,r){if(r.get||r.set)throw new TypeError("ES3 does not support getters and setters.");t!=Array.prototype&&t!=Object.prototype&&(t[e]=r.value)},$jscomp.getGlobal=function(t){return"undefined"!=typeof window&&window===t?t:"undefined"!=typeof global&&null!=global?global:t},$jscomp.global=$jscomp.getGlobal(this),$jscomp.SYMBOL_PREFIX="jscomp_symbol_",$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){},$jscomp.global.Symbol||($jscomp.global.Symbol=$jscomp.Symbol)},$jscomp.symbolCounter_=0,$jscomp.Symbol=function(t){return $jscomp.SYMBOL_PREFIX+(t||"")+$jscomp.symbolCounter_++},$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var t=$jscomp.global.Symbol.iterator;t||(t=$jscomp.global.Symbol.iterator=$jscomp.global.Symbol("iterator")),"function"!=typeof Array.prototype[t]&&$jscomp.defineProperty(Array.prototype,t,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}}),$jscomp.initSymbolIterator=function(){}},$jscomp.arrayIterator=function(t){var e=0;return $jscomp.iteratorPrototype(function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}})},$jscomp.iteratorPrototype=function(t){return $jscomp.initSymbolIterator(),t={next:t},t[$jscomp.global.Symbol.iterator]=function(){return this},t},$jscomp.array=$jscomp.array||{},$jscomp.iteratorFromArray=function(t,n){$jscomp.initSymbolIterator(),t instanceof String&&(t+="");var r=0,a={next:function(){if(r<t.length){var e=r++;return{value:n(e,t[e]),done:!1}}return a.next=function(){return{done:!0,value:void 0}},a.next()}};return a[Symbol.iterator]=function(){return a},a},$jscomp.polyfill=function(t,n,a,o){if(n){for(a=$jscomp.global,t=t.split("."),o=0;o<t.length-1;o++){var s=t[o];s in a||(a[s]={}),a=a[s]}t=t[t.length-1],o=a[t],n=n(o),n!=o&&null!=n&&$jscomp.defineProperty(a,t,{configurable:!0,writable:!0,value:n})}},$jscomp.polyfill("Array.prototype.keys",function(t){return t?t:function(){return $jscomp.iteratorFromArray(this,function(t){return t})}},"es6-impl","es3");var $jscomp$this=this;(function(t,e){"function"==typeof define&&define.amd?define([],e):"object"==typeof module&&module.exports?module.exports=e():t.anime=e()})(this,function(){var G=Math.min,N=Math.max,q=Math.PI,U=Math.pow;function t(e){if(!D.col(e))try{return document.querySelectorAll(e)}catch(e){}}function o(e,t){for(var r=e.length,a=2<=arguments.length?arguments[1]:void 0,o=[],s=0;s<r;s++)if(s in e){var l=e[s];t.call(a,l,s,e)&&o.push(l)}return o}function e(t){return t.reduce(function(t,r){return t.concat(D.arr(r)?e(r):r)},[])}function r(e){return D.arr(e)?e:(D.str(e)&&(e=t(e)||e),e instanceof NodeList||e instanceof HTMLCollection?[].slice.call(e):[e])}function n(e,t){return e.some(function(e){return e===t})}function s(e){var t,r={};for(t in e)r[t]=e[t];return r}function l(e,t){var r,n=s(e);for(r in e)n[r]=t.hasOwnProperty(r)?t[r]:e[r];return n}function p(e,t){var r,n=s(e);for(r in t)n[r]=D.und(e[r])?t[r]:e[r];return n}function g(e){e=e.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(e,t,r,n){return t+t+r+r+n+n});var t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);e=parseInt(t[1],16);var r=parseInt(t[2],16),t=parseInt(t[3],16);return"rgba("+e+","+r+","+t+",1)"}function u(e){function t(e,t,r){return 0>r&&(r+=1),1<r&&--r,r<1/6?e+6*(t-e)*r:.5>r?t:r<2/3?e+6*((t-e)*(2/3-r)):e}var r=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(e)||/hsla\((\d+),\s*([\d.]+)%,\s*([\d.]+)%,\s*([\d.]+)\)/g.exec(e);e=parseInt(r[1])/360;var o=parseInt(r[2])/100,s=parseInt(r[3])/100,r=r[4]||1;if(0==o)s=o=e=s;else{var l=.5>s?s*(1+o):s+o-s*o,n=2*s-l,s=t(n,l,e+1/3),o=t(n,l,e);e=t(n,l,e-1/3)}return"rgba("+255*s+","+255*o+","+255*e+","+r+")"}function m(e){if(e=/([\+\-]?[0-9#\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(e))return e[2]}function y(e){return-1<e.indexOf("translate")||"perspective"===e?"px":-1<e.indexOf("rotate")||-1<e.indexOf("skew")?"deg":void 0}function x(e,t){return D.fnc(e)?e(t.target,t.id,t.total):e}function f(e,t){if(t in e.style)return getComputedStyle(e).getPropertyValue(t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase())||"0"}function w(e,t){return D.dom(e)&&n(S,t)?"transform":D.dom(e)&&(e.getAttribute(t)||D.svg(e)&&e[t])?"attribute":D.dom(e)&&"transform"!==t&&f(e,t)?"css":null==e[t]?void 0:"object"}function d(e,t){var r=y(t),r=-1<t.indexOf("scale")?1:0+r;if(e=e.style.transform,!e)return r;for(var s=[],l=[],p=[],n=/(\w+)\((.+?)\)/g;s=n.exec(e);)l.push(s[1]),p.push(s[2]);return e=o(p,function(e,r){return l[r]===t}),e.length?e[0]:r}function _(e,t){switch(w(e,t)){case"transform":return d(e,t);case"css":return f(e,t);case"attribute":return e.getAttribute(t);}return e[t]||0}function C(e,t){var r=/^(\*=|\+=|-=)/.exec(e);if(!r)return e;var n=m(e)||0;switch(t=parseFloat(t),e=parseFloat(e.replace(r[0],"")),r[0][0]){case"+":return t+e+n;case"-":return t-e+n;case"*":return t*e+n;}}function L(e,t){var r=Math.sqrt;return r(U(t.x-e.x,2)+U(t.y-e.y,2))}function b(e){e=e.points;for(var t,r,n=0,o=0;o<e.numberOfItems;o++)r=e.getItem(o),0<o&&(n+=L(t,r)),t=r;return n}function k(e){if(e.getTotalLength)return e.getTotalLength();switch(e.tagName.toLowerCase()){case"circle":return 2*q*e.getAttribute("r");case"rect":return 2*e.getAttribute("width")+2*e.getAttribute("height");case"line":return L({x:e.getAttribute("x1"),y:e.getAttribute("y1")},{x:e.getAttribute("x2"),y:e.getAttribute("y2")});case"polyline":return b(e);case"polygon":var t=e.points;return b(e)+L(t.getItem(t.numberOfItems-1),t.getItem(0));}}function a(e,t){var a=Math.atan2;function r(r){return r=void 0===r?0:r,e.el.getPointAtLength(1<=t+r?t+r:0)}var o=r(),s=r(-1),l=r(1);switch(e.property){case"x":return o.x;case"y":return o.y;case"angle":return 180*a(l.y-s.y,l.x-s.x)/q;}}function E(e,t){var r,n=/-?\d*\.?\d+/g;if(r=D.pth(e)?e.totalLength:e,!D.col(r))a=(a=m(r))?r.substr(0,r.length-a.length):r,r=t&&!/\s/g.test(r)?a+t:a;else if(D.rgb(r)){var a=/rgb\((\d+,\s*[\d]+,\s*[\d]+)\)/g.exec(r);r=a?"rgba("+a[1]+",1)":r}else r=D.hex(r)?g(r):D.hsl(r)?u(r):void 0;return r+="",{original:r,numbers:r.match(n)?r.match(n).map(Number):[0],strings:D.str(e)||t?r.split(n):[]}}function T(t){return t=t?e(D.arr(t)?t.map(r):r(t)):[],o(t,function(e,t,r){return r.indexOf(e)===t})}function F(e){var t=T(e);return t.map(function(e,r){return{target:e,id:r,total:t.length}})}function c(e,t){var n=s(t);if(D.arr(e)){var o=e.length;2!==o||D.obj(e[0])?D.fnc(t.duration)||(n.duration=t.duration/o):e={value:e}}return r(e).map(function(e,r){return r=r?0:t.delay,e=D.obj(e)&&!D.pth(e)?e:{value:e},D.und(e.delay)&&(e.delay=r),e}).map(function(e){return p(e,n)})}function I(e,t){var r,n={};for(r in e){var a=x(e[r],t);D.arr(a)&&(a=a.map(function(e){return x(e,t)}),1===a.length&&(a=a[0])),n[r]=a}return n.duration=parseFloat(n.duration),n.delay=parseFloat(n.delay),n}function j(e){return D.arr(e)?h.apply(this,e):A[e]}function P(t,r){var n;return t.tweens.map(function(a){a=I(a,r);var o=a.value,s=_(r.target,t.name),l=n?n.to.original:s,l=D.arr(o)?o[0]:l,d=C(D.arr(o)?o[1]:o,l),s=m(d)||m(l)||m(s);return a.from=E(l,s),a.to=E(d,s),a.start=n?n.end:t.offset,a.end=a.start+a.delay+a.duration,a.easing=j(a.easing),a.elasticity=(1E3-G(N(a.elasticity,1),999))/1E3,a.isPath=D.pth(o),a.isColor=D.col(a.from.original),a.isColor&&(a.round=1),n=a})}function O(t,r){return o(e(t.map(function(e){return r.map(function(t){var r=w(e.target,t.name);if(r){var n=P(t,e);t={type:r,property:t.name,animatable:e,tweens:n,duration:n[n.length-1].end,delay:n[0].delay}}else t=void 0;return t})})),function(e){return!D.und(e)})}function M(e,t,r,n){var a="delay"===e;return t.length?(a?G:N).apply(Math,t.map(function(t){return t[e]})):a?n.delay:r.offset+n.delay+n.duration}function R(t){var r,n=l(K,t),o=l(Y,t),s=F(t.targets),d=[],g=p(n,o);for(r in t)g.hasOwnProperty(r)||"targets"===r||d.push({name:r,offset:g.offset,tweens:c(t[r],o)});return t=O(s,d),p(n,{children:[],animatables:s,animations:t,duration:M("duration",t,n,o),delay:M("delay",t,n,o)})}function V(r){function s(){return window.Promise&&new Promise(function(e){return E=e})}function c(e){return T.reversed?T.duration-e:e}function d(r){for(var s=Math.round,g=0,u={},c=T.animations,v=c.length;g<v;){var y=c[g],e=y.animatable,L=y.tweens,_=L.length-1,k=L[_];_&&(k=o(L,function(e){return r<e.end})[0]||k);for(var L=G(N(r-k.start-k.delay,0),k.duration)/k.duration,C=isNaN(L)?1:k.easing(L,k.elasticity),L=k.to.strings,E=k.round,_=[],S=void 0,S=k.to.numbers.length,B=0;B<S;B++){var F=void 0,F=k.to.numbers[B],I=k.from.numbers[B],F=k.isPath?a(k.value,C*F):I+C*(F-I);E&&(k.isColor&&2<B||(F=s(F*E)/E)),_.push(F)}if(k=L.length)for(S=L[0],C=0;C<k;C++)E=L[C+1],B=_[C],isNaN(B)||(S=E?S+(B+E):S+(B+" "));else S=_[0];Q[y.type](e.target,y.property,S,u,e.id),y.currentValue=S,g++}if(g=Object.keys(u).length)for(c=0;c<g;c++)X||(X=f(document.body,"transform")?"transform":"-webkit-transform"),T.animatables[c].target.style[X]=u[c].join(" ");T.currentTime=r,T.progress=100*(r/T.duration)}function y(e){T[e]&&T[e](T)}function b(){T.remaining&&!0!==T.remaining&&T.remaining--}function e(e){var t=T.duration,a=T.offset,n=a+T.delay,o=T.currentTime,r=T.reversed,l=c(e);if(T.children.length){var p=T.children,g=p.length;if(l>=T.currentTime)for(var u=0;u<g;u++)p[u].seek(l);else for(;g--;)p[g].seek(l)}(l>=n||!t)&&(T.began||(T.began=!0,y("begin")),y("run")),l>a&&l<t?d(l):(l<=a&&0!==o&&(d(0),r&&b()),l>=t&&o!==t||!t)&&(d(t),r||b()),y("update"),e>=t&&(T.remaining?(_=L,"alternate"===T.direction&&(T.reversed=!T.reversed)):(T.pause(),T.completed||(T.completed=!0,y("complete"),"Promise"in window&&(E(),S=s()))),C=0)}r=void 0===r?{}:r;var L,_,C=0,E=null,S=s(),T=R(r);return T.reset=function(){var e=T.direction,t=T.loop;for(T.currentTime=0,T.progress=0,T.paused=!0,T.began=!1,T.completed=!1,T.reversed="reverse"===e,T.remaining="alternate"===e&&1===t?2:t,d(0),e=T.children.length;e--;)T.children[e].reset()},T.tick=function(t){L=t,_||(_=L),e((C+L-_)*V.speed)},T.seek=function(t){e(c(t))},T.pause=function(){var e=W.indexOf(T);-1<e&&W.splice(e,1),T.paused=!0},T.play=function(){T.paused&&(T.paused=!1,_=0,C=c(T.currentTime),W.push(T),v||$())},T.reverse=function(){T.reversed=!T.reversed,_=0,C=c(T.currentTime)},T.restart=function(){T.pause(),T.reset(),T.play()},T.finished=S,T.reset(),T.autoplay&&T.play(),T}var X,K={update:void 0,begin:void 0,run:void 0,complete:void 0,loop:1,direction:"normal",autoplay:!0,offset:0},Y={duration:1E3,delay:0,easing:"easeOutElastic",elasticity:500,round:0},S=["translateX","translateY","translateZ","rotate","rotateX","rotateY","rotateZ","scale","scaleX","scaleY","scaleZ","skewX","skewY","perspective"],D={arr:function(e){return Array.isArray(e)},obj:function(e){return-1<Object.prototype.toString.call(e).indexOf("Object")},pth:function(e){return D.obj(e)&&e.hasOwnProperty("totalLength")},svg:function(e){return e instanceof SVGElement},dom:function(e){return e.nodeType||D.svg(e)},str:function(e){return"string"==typeof e},fnc:function(e){return"function"==typeof e},und:function(e){return"undefined"==typeof e},hex:function(e){return /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(e)},rgb:function(e){return /^rgb/.test(e)},hsl:function(e){return /^hsl/.test(e)},col:function(e){return D.hex(e)||D.rgb(e)||D.hsl(e)}},h=function(){function t(e,t,r){return(((1-3*r+3*t)*e+(3*r-6*t))*e+3*t)*e}return function(r,a,o,s){if(0<=r&&1>=r&&0<=o&&1>=o){var d=new Float32Array(11);if(r!==a||o!==s)for(var e=0;11>e;++e)d[e]=t(.1*e,r,o);return function(e){var p=Math.abs;if(r===a&&o===s)return e;if(0===e)return 0;if(1===e)return 1;for(var u=0,c=1;10!=c&&d[c]<=e;++c)u+=.1;--c;var c=u+.1*((e-d[c])/(d[c+1]-d[c])),v=3*(1-3*o+3*r)*c*c+2*(3*o-6*r)*c+3*r;if(.001<=v){for(u=0;4>u&&(v=3*(1-3*o+3*r)*c*c+2*(3*o-6*r)*c+3*r,0!=v);++u)var y=t(c,r,o)-e,c=c-y/v;e=c}else if(0==v)e=c;else{var c=u,u=u+.1,f=0;do y=c+(u-c)/2,v=t(y,r,o)-e,0<v?u=y:c=y;while(1e-7<p(v)&&10>++f);e=y}return t(e,a,s)}}}}(),A=function(){function t(e,t){var r=Math.sin,n=Math.asin;return 0===e||1===e?e:-U(2,10*(e-1))*r(2*(e-1-t/(2*q)*n(1))*q/t)}var r,n=["Quad","Cubic","Quart","Quint","Sine","Expo","Circ","Back","Elastic"],a={In:[[.55,.085,.68,.53],[.55,.055,.675,.19],[.895,.03,.685,.22],[.755,.05,.855,.06],[.47,0,.745,.715],[.95,.05,.795,.035],[.6,.04,.98,.335],[.6,-.28,.735,.045],t],Out:[[.25,.46,.45,.94],[.215,.61,.355,1],[.165,.84,.44,1],[.23,1,.32,1],[.39,.575,.565,1],[.19,1,.22,1],[.075,.82,.165,1],[.175,.885,.32,1.275],function(e,r){return 1-t(1-e,r)}],InOut:[[.455,.03,.515,.955],[.645,.045,.355,1],[.77,0,.175,1],[.86,0,.07,1],[.445,.05,.55,.95],[1,0,0,1],[.785,.135,.15,.86],[.68,-.55,.265,1.55],function(e,r){return .5>e?t(2*e,r)/2:1-t(-2*e+2,r)/2}]},o={linear:h(.25,.25,.75,.75)},s={};for(r in a)s.type=r,a[s.type].forEach(function(e){return function(t,r){o["ease"+e.type+n[r]]=D.fnc(t)?t:h.apply($jscomp$this,t)}}(s)),s={type:s.type};return o}(),Q={css:function(e,t,r){return e.style[t]=r},attribute:function(e,t,r){return e.setAttribute(t,r)},object:function(e,t,r){return e[t]=r},transform:function(e,t,r,n,a){n[a]||(n[a]=[]),n[a].push(t+"("+r+")")}},W=[],v=0,$=function(){function e(){v=requestAnimationFrame(t)}function t(t){var r=W.length;if(r){for(var n=0;n<r;)W[n]&&W[n].tick(t),n++;e()}else cancelAnimationFrame(v),v=0}return e}();return V.version="2.2.0",V.speed=1,V.running=W,V.remove=function(e){e=T(e);for(var t=W.length;t--;)for(var r=W[t],o=r.animations,s=o.length;s--;)n(e,o[s].animatable.target)&&(o.splice(s,1),o.length||r.pause())},V.getValue=_,V.path=function(e,r){var n=D.str(e)?t(e)[0]:e;return function(e){return{el:n,property:e,totalLength:k(n)*((r||100)/100)}}},V.setDashoffset=function(e){var t=k(e);return e.setAttribute("stroke-dasharray",t),t},V.bezier=h,V.easings=A,V.timeline=function(t){var n=V(t);return n.pause(),n.duration=0,n.add=function(e){return n.children.forEach(function(e){e.began=!0,e.completed=!0}),r(e).forEach(function(r){var a=p(r,l(Y,t||{}));a.targets=a.targets||t.targets,r=n.duration;var o=a.offset;a.autoplay=!1,a.direction=n.direction,a.offset=D.und(o)?r:C(o,r),n.began=!0,n.completed=!0,n.seek(a.offset),a=V(a),a.began=!0,a.completed=!0,a.duration>r&&(n.duration=a.duration),n.children.push(a)}),n.seek(0),n.reset(),n.autoplay&&n.restart(),n},n},V.random=function(e,t){var r=Math.floor;return r(Math.random()*(t-e+1))+e},V}),!function(r,e){var t=e.jQuery;"object"==typeof exports?module.exports=t?r(e,t):function(t){if(t&&!t.fn)throw"Provide jQuery or null";return r(e,t)}:"function"==typeof define&&define.amd?define(function(){return r(e)}):r(e,!1)}(function(xe,He){"use strict";function Ge(a,e){return function(){var t,o=this,r=o.base;return o.base=a,t=e.apply(o,arguments),o.base=r,t}}function Qe(n,e){return J(e)&&(e=Ge(n?n._d?n:Ge(r,n):r,e),e._d=1),e}function Xe(r,e){var t,a=e.props;for(t in a)!$e.test(t)||r[t]&&r[t].fix||(r[t]="convert"===t?a[t]:Qe(r.constructor.prototype[t],a[t]))}function e(t){return t}function r(){return""}function n(t){try{throw console.log("JsRender dbg breakpoint: "+t),"dbg breakpoint"}catch(e){}return this.base?this.baseApply(arguments):t}function a(t){this.name=(He.link?"JsViews":"JsRender")+" Error",this.message=t||this.name}function Ye(r,e){if(r){for(var t in e)r[t]=e[t];return r}}function o(r,a,s){return r?Z(r)?o.apply(D,r):(at.delimiters=[r,a,gt=s?s.charAt(0):gt],lt=r.charAt(0),it=r.charAt(1),dt=a.charAt(0),pt=a.charAt(1),r="\\"+lt+"(\\"+gt+")?\\"+it,a="\\"+dt+"\\"+pt,Q="(?:(\\w+(?=[\\/\\s\\"+dt+"]))|(\\w+)?(:)|(>)|(\\*))\\s*((?:[^\\"+dt+"]|\\"+dt+"(?!\\"+pt+"))*?)",nt.rTag="(?:"+Q+")",Q=new RegExp("(?:"+r+Q+"(\\/)?|\\"+lt+"(\\"+gt+")?\\"+it+"(?:(?:\\/(\\w+))\\s*|!--[\\s\\S]*?--))"+a,"g"),nt.rTmpl=new RegExp("^\\s|\\s$|<.*>|([^\\\\]|^)[{}]|"+r+".*"+a),st):at.delimiters}function s(l,d){d||!0===l||(d=l,l=void 0);var p,g,u,c,m=this,v=!d||"root"===d;if(l){if(c=d&&m.type===d&&m,!c)if(p=m.views,m._.useKey){for(g in p)if(c=d?p[g].get(l,d):p[g])break;}else for(g=0,u=p.length;!c&&g<u;g++)c=d?p[g].get(l,d):p[g];}else if(v)c=m.root;else for(;m&&!c;)c=m.type===d?m:void 0,m=m.parent;return c}function De(){var t=this.get("item");return t?t.index:void 0}function l(){return this.index}function d(e,t,n){var r,l,g,c,m=this,v=!ct&&void 0!==t,u=m.ctx;if(!(e in u||e in(u=tt)))u=void 0;else if(g=u&&u[e],"tag"===e||"root"===e||"parentTags"===e||m._.it===e)return g;if((!g||!J(g)&&m.linked||m.tagCtx)&&(g&&g._cxp||(u!==tt&&(m=m.tagCtx?m:(m=m.scope||m,!m.isTop&&m.ctx.tag||m),u=m._ocps,g=u&&u[e]||g),g&&g._cxp||!n&&!v||(g=nt._crcp(e,g,m,u))),c=g&&g._cxp)){if(v)return nt._ucp(e,t,m,c);if(n)return l=g[1]?nt._ceo(g[1].deps):[mt],l.unshift(g[0]),l._cxp=c,l;g=g[1]?c.tag&&c.tag.cvtArgs?c.tag.cvtArgs(!0,c.tagElse)[c.ind]:g[1](g[0].data,g[0],nt):g[0]._ocp}return g&&J(g)&&(r=function(){return g.apply(this&&this!==xe?this:m,arguments)},Ye(r,g),r._vw=m),r||g}function p(t){return t&&(t.fn?t:this.getRsc("templates",t)||z(t))}function g(l,e,t,g){var c,m,v,y,h="number"==typeof t&&e.tmpl.bnds[t-1],f=e.linkCtx;if(void 0===g&&h&&h._lr&&(g=""),void 0===g?h&&(t=h(e.data,e,nt)):t=g={props:{},args:[g]},h=h._bd&&h,m=t.args[0],l||h){if(c=f&&f.tag,t.view=e,!c){if(c=Ye(new nt._tg,{_:{bnd:h,unlinked:!0},inline:!f,tagName:":",convert:l,flow:!0,tagCtx:t}),v=t.args.length,1<v)for(y=c.bindTo=[];v--;)y.unshift(v);f&&(f.tag=c,c.linkCtx=f),t.ctx=L(t.ctx,(f?f.view:e).ctx),Xe(c,t)}c._er=g&&m,c.ctx=t.ctx||c.ctx||{},t.ctx=void 0,m=c.cvtArgs()[0]}return m=h&&e._.onRender?e._.onRender(m,e,c):m,null==m?"":m}function u(p,e){var t,g,u,m,v,y,h,f=this;if(f.tagName?(y=f,f=y.tagCtxs?y.tagCtxs[e||0]:y.tagCtx):y=f.tag,v=y.bindTo,m=f.args,(h=y.convert)&&""+h===h&&(h="true"===h?void 0:f.view.getRsc("converters",h)||j("Unknown converter: '"+h+"'")),p&&p.length)m=p;else if(h&&!p&&(m=m.slice()),v){for(u=[],t=v.length;t--;)g=v[t],u.unshift(c(f,g));p&&(m=u)}if(h)if(v=v||[0],t=v.length,h=h.apply(y,u||m),Z(h)&&h.length===t||(h=[h],v=[0],t=1),p)m=h;else for(;t--;)g=v[t],+g===g&&(m[g]=h[t]);return m}function c(r,n){return r=r[+n===n?"args":"props"],r&&r[n]}function m(t){return this.cvtArgs(!0,t)}function v(a,e){var t,o,s=this;if(""+e===e){for(;void 0===t&&s;)o=s.tmpl&&s.tmpl[a],t=o&&o[e],s=s.parent;return t||D[a][e]}}function h(w,B,F,I,H,o){function G(r){var e;(e=s[r])&&(s[r]=e=Z(e)?e:[e],me!==e.length&&j(r+" length not same as bindTo "))}B=B||K;var s,Q,X,Y,D,W,J,z,ee,te,re,ne,ae,oe,se,le,ie,de,pe,ge,ue,ce,me,ve=0,ye="",he=B.linkCtx||0,P=B.ctx,O=F||B.tmpl,U="number"==typeof I&&B.tmpl.bnds[I-1];for("tag"===w._is?(s=w,w=s.tagName,I=s.tagCtxs,X=s.template):(Q=B.getRsc("tags",w)||j("Unknown tag: {{"+w+"}} "),X=Q.template),void 0===o&&U&&(U._lr=(Q.lateRender||U._lr)&&"false"!==U._lr)&&(o=""),void 0===o?U&&(I=U(B.data,B,nt)):(ye+=o,I=o=[{props:{},args:[],params:{}}]),J=I.length;ve<J;ve++)te=I[ve],oe=te.tmpl,(!he||!he.tag||ve&&!he.tag.inline||s._er||oe&&+oe===oe)&&(oe&&O.tmpls&&(te.tmpl=te.content=O.tmpls[oe-1]),te.index=ve,te.render=A,te.view=B,te.ctx=L(te.ctx,P)),(F=te.props.tmpl)&&(te.tmpl=B.getTmpl(F),te.content=te.content||te.tmpl),s||(s=new Q._ctr,se=!!s.init,s.parent=W=P&&P.tag,s.tagCtxs=I,ge=s.dataMap,he&&(s.inline=!1,he.tag=s,s.linkCtx=he),(s._.bnd=U||he.fn)?s._.arrVws={}:s.dataBoundOnly&&j(w+" must be data-bound:\n{^{"+w+"}}")),I=s.tagCtxs,ge=s.dataMap,te.tag=s,ge&&I&&(te.map=I[ve].map),s.flow||(re=te.ctx=te.ctx||{},Y=s.parents=re.parentTags=P&&L(re.parentTags,P.parentTags)||{},W&&(Y[W.tagName]=W),Y[s.tagName]=re.tag=s);if(!(s._er=o)){for(Xe(s,I[0]),s.rendering={},ve=0;ve<J;ve++){if(te=s.tagCtx=I[ve],pe=te.props,s.ctx=te.ctx,!ve){if(se&&(s.init(te,he,s.ctx),se=void 0),te.args.length||!1===s.argDefault||(te.args=de=[te.view.data],te.params.args=["#data"]),ae=s.bindTo,void 0!==ae)for(ae=s.bindTo=Z(ae)?ae:[ae],z=ae.length;z--;)ce=ae[z],isNaN(parseInt(ce))||(ce=parseInt(ce)),ae[z]=ce;ae=s.bindTo||[0],me=ae.length,s._.bnd&&(G("linkedElement"),G("linkedCtxParam")),he&&(he.attr=s.attr=he.attr||s.attr),D=s.attr,s._.noVws=D&&D!==Fe}if(de=s.cvtArgs(void 0,ve),s.linkedCtxParam)for(z=me;z--;)(ne=s.linkedCtxParam[z])&&(ce=ae[z],te.ctx[ne]=nt._cp(c(te,ce),c(te.params,ce),te.view,s._.bnd&&{tag:s,ind:z,tagElse:ve}));(le=pe.dataMap||ge)&&(de.length||pe.dataMap)&&(ie=te.map,ie&&ie.src===de[0]&&!H||(ie&&ie.src&&ie.unmap(),ie=te.map=le.map(de[0],pe,void 0,!s._.bnd)),de=[ie.tgt]),ee=void 0,s.render&&(ee=s.render.apply(s,de),B.linked&&ee&&!Ee.test(ee)&&(F={links:[]},F.render=F.fn=function(){return ee},ee=S(F,B.data,void 0,!0,B,void 0,void 0,s))),de.length||(de=[B]),void 0===ee&&(ue=de[0],s.contentCtx&&(ue=!0===s.contentCtx?B:s.contentCtx(ue)),ee=te.render(ue,!0)||(H?void 0:"")),ye=ye?ye+(ee||""):ee}s.rendering=void 0}return s.tagCtx=I[0],s.ctx=s.tagCtx.ctx,s._.noVws&&s.inline&&(ye="text"===D?et.html(ye):""),U&&B._.onRender?B._.onRender(ye,B,s):ye}function We(g,e,t,n,r,c,o,a){var s,m,v,y=this,p="array"===e;y.content=a,y.views=p?[]:{},y.data=n,y.tmpl=r,v=y._={key:0,useKey:p?0:1,id:""+Ne++,onRender:o,bnds:{}},y.linked=!!o,y.type=e||"top",(y.parent=t)?(y.root=t.root||y,s=t.views,m=t._,y.isTop=m.scp,y.scope=(!g.tag||g.tag===t.ctx.tag)&&!y.isTop&&t.scope||y,m.useKey?(s[v.key="_"+m.useKey++]=y,y.index=Ue,y.getIndex=De):s.length===(v.key=y.index=c)?s.push(y):s.splice(c,0,y),y.ctx=g||t.ctx):y.ctx=g||{}}function y(a){var e,o,s;for(e in Be)o=e+"s",a[o]&&(s=a[o],a[o]={},D[o](s,a))}function f(r,e,l){function n(){var e=this;e._={unlinked:!0},e.inline=!0,e.tagName=r}var p,g,u,c=(e.bindTo,new nt._tg);if(J(e)?e={depends:e.depends,render:e}:""+e===e&&(e={template:e}),g=e.baseTag)for(u in e.flow=!!e.flow,e.baseTag=g=""+g===g?l&&l.tags[g]||rt[g]:g,c=Ye(c,g),e)c[u]=Qe(g[u],e[u]);else c=Ye(c,e);return void 0!==(p=c.template)&&(c.template=""+p===p?z[p]||z(p):p),(n.prototype=c).constructor=c._ctr=n,l&&(c._parentTmpl=l),c}function b(t){return this.base.apply(this,t)}function x(t,l,p,r){function g(e){var a,l;if(""+e===e||0<e.nodeType&&(u=e)){if(!u)if(/^\.\/[^\\:*?"<>]*$/.test(e))(l=z[t=t||e])?e=l:u=document.getElementById(e);else if(He.fn&&!nt.rTmpl.test(e))try{u=He(e,document)[0]}catch(e){}u&&(r?e=u.innerHTML:(a=u.getAttribute(Ie),a&&(a===Oe?He.fn&&(e=He.data(u)[Oe]):(e=z[a],delete z[a])),a&&e||(t=t||(He.fn?Oe:e),e=x(t,u.innerHTML,p,r)),e.tmplName=t=t||a,t!==Oe&&(z[t]=e),u.setAttribute(Ie,t),He.fn&&He.data(u,Oe,e))),u=void 0}else e.fn||(e=void 0);return e}var u,o,c=l=l||"";if(nt._html=et.html,0===r&&(r=void 0,c=g(c)),r=r||(l.markup?l:{}),r.tmplName=t,p&&(r._parentTmpl=p),!c&&l.markup&&(c=g(l.markup))&&c.fn&&(c=c.markup),void 0!==c)return c.fn||l.fn?c.fn&&(o=c):(l=Ze(c,r),P(c.replace(Ce,"\\$&"),l)),o||(o=Ye(function(){return o.render.apply(o,arguments)},l),y(o)),o}function _(r,e){return J(r)?r.call(e):r}function k(a){for(var e=[],t=0,o=a.length;t<o;t++)e.push(a[t].unmap());return e}function w(y,e){function t(t){d.apply(this,t)}function n(){return new t(arguments)}function b(s,e){for(var t,l,d,g,u=0;u<E;u++)d=p[u],t=void 0,d+""!==d&&(t=d,d=t.getter),void 0===(g=s[d])&&t&&void 0!==(l=t.defaultVal)&&(g=_(l,s)),e(g,t&&L[t.type],d)}function r(e){e=e+""===e?JSON.parse(e):e;var s,d,p=0,g=e,u=[];if(Z(e)){for(e=e||[],s=e.length;p<s;p++)u.push(this.map(e[p]));return u._is=y,u.unmap=o,u.merge=a,u}if(e)for(d in b(e,function(r,n){n&&(r=n.map(r)),u.push(r)}),g=this.apply(this,u),e)d===$||x[d]||(g[d]=e[d]);return g}function a(o){o=o+""===o?JSON.parse(o):o;var g,m,v,y,h,L,_,k,E,S=0,T=this;if(Z(T)){for(_={},E=[],m=o.length,v=T.length;S<m;S++){for(k=o[S],L=!1,g=0;g<v&&!L;g++)_[g]||(h=T[g],C&&(_[g]=L=C+""===C?k[C]&&(x[C]?h[C]():h[C])===k[C]:C(h,k)));L?(h.merge(k),E.push(h)):E.push(n.map(k))}return void(w?w(T).refresh(E,!0):T.splice.apply(T,[0,T.length].concat(E)))}for(y in b(o,function(r,e,t){e?T[t]().merge(r):T[t](r)}),o)y===$||x[y]||(T[y]=o[y])}function o(){var a,s,l,d,g=0,u=this;if(Z(u))return k(u);for(a={};g<E;g++)s=p[g],l=void 0,s+""!==s&&(l=s,s=l.getter),d=u[s](),a[s]=l&&d&&L[l.type]?Z(d)?k(d):d.unmap():d;for(s in u)"_is"===s||x[s]||s===$||"_"===s.charAt(0)&&x[s.slice(1)]||J(u[s])||(a[s]=u[s]);return a}var s,d,L=this,p=e.getters,c=e.extend,C=e.id,g=He.extend({_is:y||"unnamed",unmap:o,merge:a},c),v="",f="",E=p?p.length:0,w=He.observable,x={};for(t.prototype=g,s=0;s<E;s++)!function(r){r=r.getter||r,x[r]=s+1;var a="_"+r;v+=(v?",":"")+r,f+="this."+a+" = "+r+";\n",g[r]=g[r]||function(e){return arguments.length?void(w?w(this).setProperty(r,e):this[a]=e):this[a]},w&&(g[r].set=g[r].set||function(t){this[a]=t})}(p[s]);return d=new Function(v,f.slice(0,-1)),d.prototype=g,g.constructor=d,n.map=r,n.getters=p,n.extend=c,n.id=C,n}function Ze(t,e){var n,a=ot._wm||{},s=Ye({tmpls:[],links:{},bnds:[],_is:"template",render:A},e);return s.markup=t,e.htmlTag||(n=Ae.exec(t),s.htmlTag=n?n[1].toLowerCase():""),n=a[s.htmlTag],n&&n!==a.div&&(s.markup=He.trim(s.markup)),s}function C(p,e){function t(r,g,c){var m,v,y,h=nt.onStore[p];if(r&&typeof r===Pe&&!r.nodeType&&!r.markup&&!r.getTgt&&!("viewModel"===p&&r.getters||r.extend)){for(v in r)t(v,r[v],g);return g||D}return void 0===g&&(g=r,r=void 0),r&&""+r!==r&&(c=g,g=r,r=void 0),y=c?"viewModel"===p?c:c[n]=c[n]||{}:t,m=e.compile,null===g?r&&delete y[r]:(m&&(g=m.call(y,r,g,c,0)||{},g._is=p),r&&(y[r]=g)),h&&h(r,g,c,m),g}var n=p+"s";D[n]=t}function E(r){st[r]=function(e){return arguments.length?(at[r]=e,st):at[r]}}function T(r){function a(e,t){this.tgt=r.getTgt(e,t)}return J(r)&&(r={getTgt:r}),r.baseMap&&(r=Ye(Ye({},r.baseMap),r)),r.map=function(t,e){return new a(t,e)},r}function A(m,y,h,b,r,x){var o,w,L,_,k,C,E,T,B=b,F="";if(!0===y?(h=y,y=void 0):typeof y!==Pe&&(y=void 0),(L=this.tag)?(k=this,B=B||k.view,_=B.getTmpl(L.template||k.tmpl),arguments.length||(m=B)):_=this,_){if(!b&&m&&"view"===m._is&&(B=m),B&&m===B&&(m=B.data),C=!B,ct=ct||C,B||((y=y||{}).root=m),!ct||ot.useViews||_.useViews||B&&B!==K)F=S(_,m,y,h,B,r,x,L);else{if(B?(E=B.data,T=B.index,B.index=Ue):(B=K,E=B.data,B.data=m,B.ctx=y),Z(m)&&!h)for(o=0,w=m.length;o<w;o++)B.index=o,B.data=m[o],F+=_.fn(m[o],B,nt);else B.data=m,F+=_.fn(m,B,nt);B.data=E,B.index=T}C&&(ct=void 0)}return F}function S(l,e,t,y,r,C,E,S){function s(r){M=Ye({},t),M[O]=r}var d,T,B,F,I,A,j,P,H,O,M,R,V="";if(S&&(H=S.tagName,R=S.tagCtx,t=t?L(t,S.ctx):S.ctx,l===r.content?j=l===r.ctx._wrp?void 0:r.ctx._wrp:l===R.content?j=r.content:l===S.template?(j=R.tmpl,t._wrp=R.content):j=R.content||r.content,!1===R.props.link&&(t=t||{},t.link=!1),(O=R.props.itemVar)&&("~"!==O.charAt(0)&&ze("Use itemVar='~myItem'"),O=O.slice(1))),r&&(E=E||r._.onRender,t=L(t,r.ctx)),!0===C&&(A=!0,C=0),E&&(t&&!1===t.link||S&&S._.noVws)&&(E=void 0),P=E,!0===E&&(P=void 0,E=r._.onRender),t=l.helpers?L(l.helpers,t):t,M=t,Z(e)&&!y)for(B=A?r:void 0!==C&&r||new We(t,"array",r,e,l,C,E,j),r&&r._.useKey&&(B._.bnd=!S||S._.bnd&&S),d=0,T=e.length;d<T;d++)O&&s(e[d]),F=new We(M,"item",B,e[d],l,(C||0)+d,E,B.content),F._.it=O,I=l.fn(e[d],F,nt),V+=B._.onRender?B._.onRender(I,F):I;else O&&s(e),B=A?r:new We(M,H||"data",r,e,l,C,E,j),B._.it=O,V+=l.fn(e,B,nt);return S&&(B.tag=S,B.tagElse=R.index,R.contentView=B),P?P(V,B):V}function F(a,e,t){var o=void 0===t?"{Error: "+(a.message||a)+"}":J(t)?t.call(e.data,a,e):t||"";return at.onError&&void 0!==(t=at.onError.call(e.data,a,t&&o,e))&&(o=t),e&&!e.linkCtx?et.html(o):o}function j(t){throw new nt.Err(t)}function ze(t){j("Syntax error\n"+t)}function P(L,H,t,n,r){function G(e){e-=Y,e&&h.push(L.substr(Y,e).replace(ye,"\\n"))}function o(e,r){e&&(e+="}}",ze((r?"{{"+r+"}} block has {{/"+e+" without {{"+e:"Unmatched or missing {{/"+e)+", in template:\n"+L))}function a(e,a,s,d,p,u,m,v,f,x,w,_){(m&&a||f&&!s||v&&":"===v.slice(-1)||x)&&ze(e),u&&(p=":",d=Fe),f=f||t&&!r;var k,C=(a||t)&&[[]],T="",B="",O="",Q="",J="",Z="",z="",ee="",te=!f&&!p;s=s||(v=v||"#data",p),G(_),Y=_+e.length,m?K&&h.push(["*","\n"+v.replace(/^:/,"ret+= ").replace(ke,"$1")+";\n"]):s?("else"===s&&(je.test(v)&&ze("for \"{{else if expr}}\" use \"{{else expr}}\""),C=W[8]&&[[]],W[9]=L.substring(W[9],_),W=D.pop(),h=W[2],te=!0),v&&U(v.replace(ye," "),C,H).replace(Te,function(l,e,t,n,d,p,o,a){return n="'"+d+"':",o?(B+=p+",",Q+="'"+a+"',"):t?(O+=n+"j._cp("+p+",\""+a+"\",view),",Z+=n+"'"+a+"',"):e?z+=p:("trigger"===d&&(ee+=p),"lateRender"===d&&(k=a),T+=n+p+",",J+=n+"'"+a+"',",X=X||$e.test(d)),""}).slice(0,-1),C&&C[0]&&C.pop(),q=[s,d||!!n||X||"",te&&[],I(Q||(":"===s?"'#data',":""),J,Z),I(B||(":"===s?"data,":""),T,O),z,ee,k,C||0],h.push(q),te&&(D.push(W),W=q,W[9]=Y)):w&&(o(w!==W[0]&&"else"!==W[0]&&w,W[0]),W[9]=L.substring(W[9],_),W=D.pop()),o(!W&&w),h=W[2]}var s,y,q,X,b,K=at.allowCode||H&&H.allowCode||!0===st.allowCode,f=[],Y=0,D=[],h=f,W=[,,f];if(K&&H._is&&(H.allowCode=K),t&&(void 0!==n&&(L=L.slice(0,-n.length-2)+dt),L=lt+L+pt),o(D[0]&&D[0][2].pop()[0]),L.replace(Q,a),G(L.length),(Y=f[f.length-1])&&o(""+Y!==Y&&+Y[9]===Y[9]&&Y[0]),t){for(y=B(f,L,t),b=[],s=f.length;s--;)b.unshift(f[s][8]);O(y,b)}else y=B(f,H);return y}function O(a,e){var t,s,l=0,d=e.length;for(a.deps=[],a.paths=[];l<d;l++)for(t in a.paths.push(s=e[l]),s)"_jsvto"!==t&&s.hasOwnProperty(t)&&s[t].length&&!s[t].skp&&(a.deps=a.deps.concat(s[t]))}function I(r,e,t){return[r.slice(0,-1),e.slice(0,-1),t.slice(0,-1)]}function q(r,e){return"\n\t"+(e?e+":{":"")+"args:["+r[0]+"]"+(r[1]||!e?",\n\tprops:{"+r[1]+"}":"")+(r[2]?",\n\tctx:{"+r[2]+"}":"")}function U(H,e,t){function n(n,r,a,o,l,s,d,g,u,c,m,h,x,k,A,j,R,V,N,D){function F(t,o,n,r,a,s,d,p){var g="."===n;if(n&&(l=l.slice(o.length),/^\.?constructor$/.test(p||l)&&ze(t),g||(t=(r?"view.ctxPrm(\""+r+"\")":a?"view":"data")+(p?(s?"."+s:r?"":a?"":"."+n)+(d||""):(p=r?"":a?s||"":n,"")),t+=p?"."+p:"",t=o+("view.data"===t.slice(0,9)?t.slice(5):t)),M)){if(!(z="linkTo"===y?C=e._jsvto=e._jsvto||[]:U.bd,ee=g&&z[z.length-1]))z.push(l);else if(ee._cpfn){for(;ee.sb;)ee=ee.sb;ee.bnd&&(l="^"+l.slice(1)),ee.sb=l,ee.bnd=ee.bnd||"^"===l.charAt(0)}v[Y]=N+(g?1:0)}return t}o&&!g&&(l=o+l),s=s||"",a=a||r||h,l=l||u,c=c||R||"";var W,Z,z,ee,te,re=")";if("["===c&&(c="[j._sq(",re=")]"),!d||Q||G){if(M&&j&&!Q&&!G&&(!y||O||C)&&(W=v[Y-1],D.length-1>N-(W||0))){if(W=D.slice(W,N+n.length),!0!==Z)if(z=C||X[Y-1].bd,ee=z[z.length-1],ee&&ee.prm){for(;ee.sb&&ee.sb.prm;)ee=ee.sb;te=ee.sb={path:ee.sb,bnd:ee.bnd}}else z.push(te={path:z.pop()});j=it+":"+W+" onerror=''"+dt,Z=b[j],Z||(b[j]=!0,b[j]=Z=P(j,t,!0)),!0!==Z&&te&&(te._cpfn=Z,te.prm=U.bd,te.bnd=te.bnd||te.path&&0<=te.path.indexOf("^"))}return Q?(Q=!x,Q?n:h+"\""):G?(G=!k,G?n:h+"\""):(a?(v[Y]=N++,U=X[++Y]={bd:[]},a):"")+(V?Y?"":(p=D.slice(p,N),(y?(y=O=C=!1,"\b"):"\b,")+p+(p=N+n.length,M&&e.push(U.bd=[]),"\b")):g?(Y&&ze(H),M&&e.pop(),y=l,O=o,p=N+n.length,M&&(M=U.bd=e[y]=[],M.skp=!o),l+":"):l?l.split("^").join(".").replace(_e,F)+(c?(U=X[++Y]={bd:[]},f[Y]=re,c):s):s?s:A?(A=f[Y]||A,f[Y]=!1,U=X[--Y],A+(c?(U=X[++Y],f[Y]=re,c):"")):m?(f[Y]||ze(H),","):r?"":(Q=x,G=k,"\""))}ze(H)}var y,C,O,G,Q,M=e&&e[0],U={bd:M},X={0:U},p=0,b=(t?t.links:M&&(M.links=M.links||{}))||K.tmpl.links,Y=0,f={},v={},r=(H+(t?" ":"")).replace(be,n);return!Y&&r||ze(H)}function B(L,e,H){var n,G,Q,X,K,Y,D,W,$,Z,z,ee,te,re,ne,ae,oe,se,le,ie,de,pe,ge,ue,ce,me,ve,he,fe,be,xe,we=0,Le=ot.useViews||e.useViews||e.tags||e.templates||e.helpers||e.converters,_e="",Ce={},U=L.length;for(""+e===e?(se=H?"data-link=\""+e.replace(ye," ").slice(1,-1)+"\"":e,e=0):(se=e.tmplName||"unnamed",e.allowCode&&(Ce.allowCode=!0),e.debug&&(Ce.debug=!0),z=e.bnds,oe=e.tmpls),n=0;n<U;n++)if(G=L[n],""+G===G)_e+="\n+\""+G+"\"";else if(Q=G[0],"*"===Q)_e+=";\n"+G[1]+"\nret=ret";else{if(X=G[1],de=!H&&G[2],K=q(G[3],"params")+"},"+q(te=G[4]),be=G[6],xe=G[7],pe=G[9]&&G[9].replace(ke,"$1"),(ce="else"===Q)?ee&&ee.push(G[8]):(he=G[5]||!1!==at.debugMode&&"undefined",z&&(ee=G[8])&&(ee=[ee],we=z.push(1))),Le=Le||te[1]||te[2]||ee||/view.(?!index)/.test(te[0]),(me=":"===Q)?X&&(Q=X===Fe?">":X+Q):(de&&(le=Ze(pe,Ce),le.tmplName=se+"/"+Q,le.useViews=le.useViews||Le,B(de,le),Le=le.useViews,oe.push(le)),ce||(ie=Q,Le=Le||Q&&(!rt[Q]||!rt[Q].flow),ue=_e,_e=""),ge=L[n+1],ge=ge&&"else"===ge[0]),fe=he?";\ntry{\nret+=":"\n+",re="",ne="",me&&(ee||be||X&&X!==Fe||xe)){if(ve=new Function("data,view,j,u","// "+se+" "+ ++we+" "+Q+"\nreturn {"+K+"};"),ve._er=he,ve._tag=Q,ve._bd=!!ee,ve._lr=xe,H)return ve;O(ve,ee),ae="c(\""+X+"\",view,",Z=!0,re=ae+we+",",ne=")"}if(_e+=me?(H?(he?"try{\n":"")+"return ":fe)+(Z?(Z=void 0,Le=$=!0,ae+(ve?(z[we-1]=ve,we):"{"+K+"}")+")"):">"===Q?(D=!0,"h("+te[0]+")"):(W=!0,"((v="+te[0]+")!=null?v:"+(H?"null)":"\"\")"))):(Y=!0,"\n{view:view,tmpl:"+(de?oe.length:"0")+","+K+"},"),ie&&!ge){if(_e="["+_e.slice(0,-1)+"]",ae="t(\""+ie+"\",view,this,",H||ee){if(_e=new Function("data,view,j,u"," // "+se+" "+we+" "+ie+"\nreturn "+_e+";"),_e._er=he,_e._tag=ie,ee&&O(z[we-1]=_e,ee),_e._lr=xe,H)return _e;re=ae+we+",undefined,",ne=")"}_e=ue+fe+ae+(_e.deps&&we||_e)+")",ee=0,ie=0}he&&!ge&&(Le=!0,_e+=";\n}catch(e){ret"+(H?"urn ":"+=")+re+"j._err(e,view,"+he+")"+ne+";}"+(H?"":"ret=ret"))}_e="// "+se+"\nvar v"+(Y?",t=j._tag":"")+($?",c=j._cnvt":"")+(D?",h=j._html":"")+(H?";\n":",ret=\"\"\n")+(Ce.debug?"debugger;":"")+_e+(H?"\n":";\nreturn ret;");try{_e=new Function("data,view,j,u",_e)}catch(e){ze("Compiled template code:\n\n"+_e+"\n: \""+(e.message||e)+"\"")}return e&&(e.fn=_e,e.useViews=!!Le),_e}function L(r,e){return r&&r!==e?e?Ye(Ye({},e),r):r:e&&Ye({},e)}function M(t){return vt[t]||(vt[t]="&#"+t.charCodeAt(0)+";")}function H(a){var e,o,s=[];if(typeof a===Pe)for(e in a)o=a[e],e!==$&&a.hasOwnProperty(e)&&!J(o)&&s.push({key:e,prop:o});return s}function R(t,e,n){var r=this.jquery&&(this[0]||j("Unknown template")),a=r.getAttribute(Ie);return A.call(a&&He.data(r)[Oe]||z(r),t,e,n)}function V(t){return null==t?"":Ve.test(t)&&(""+t).replace(Me,M)||t}var N=!1===He;He=He&&He.fn?He:xe.jQuery;var G,Q,K,D,$,J,Z,z,et,tt,rt,nt,at,ot,st,lt,it,dt,pt,gt,ut,ct,mt="_ocp",_e=/^(!*?)(?:null|true|false|\d[\d.]*|([\w$]+|\.|~([\w$]+)|#(view|([\w$]+))?)([\w$.^]*?)(?:[.[^]([\w$]+)\]?)?)$/g,be=/(\()(?=\s*\()|(?:([([])\s*)?(?:(\^?)(!*?[#~]?[\w$.^]+)?\s*((\+\+|--)|\+|-|&&|\|\||===|!==|==|!=|<=|>=|[<>%*:?\/]|(=))\s*|(!*?[#~]?[\w$.^]+)([([])?)|(,\s*)|(\(?)\\?(?:(')|("))|(?:\s*(([)\]])(?=\s*[.^]|\s*$|[^([])|[)\]])([([]?))|(\s+)/g,ye=/[ \t]*(\r\n|\n|\r)/g,ke=/\\(['"])/g,Ce=/['"\\]/g,Te=/(?:\x08|^)(onerror:)?(?:(~?)(([\w$_\.]+):)?([^\x08]+))\x08(,)?([^\x08]+)/gi,je=/^if\s/,Ae=/<(\w+)[>\s]/,Re=/[\x00`><"'&=]/g,Ve=/[\x00`><\"'&=]/,$e=/^on[A-Z]|^convert(Back)?$/,Ee=/^\#\d+_`[\s\S]*\/\d+_`$/,Me=Re,Ne=0,vt={"&":"&amp;","<":"&lt;",">":"&gt;"," ":"&#0;","'":"&#39;",'"':"&#34;","`":"&#96;","=":"&#61;"},Fe="html",Pe="object",Ie="data-jsv-tmpl",Oe="jsvTmpl",Ue="For #index in nested block use #getIndex().",qe={},Je=xe.jsrender,Ke=Je&&He&&!He.render,Be={template:{compile:x},tag:{compile:f},viewModel:{compile:w},helper:{},converter:{}};if(D={jsviews:"v0.9.90",sub:{View:We,Err:a,tmplFn:P,parse:U,extend:Ye,extendCtx:L,syntaxErr:ze,onStore:{template:function(r,e){null===e?delete qe[r]:qe[r]=e}},addSetting:E,settings:{allowCode:!1},advSet:r,_ths:Xe,_gm:Qe,_tg:function(){},_cnvt:g,_tag:h,_er:j,_err:F,_cp:e,_sq:function(t){return"constructor"===t&&ze(""),t}},settings:{delimiters:o,advanced:function(t){return t?(Ye(ot,t),nt.advSet(),st):ot}},map:T},(a.prototype=new Error).constructor=a,De.depends=function(){return[this.get("item"),"index"]},l.depends="index",We.prototype={get:s,getIndex:l,getRsc:v,getTmpl:p,ctxPrm:d,_is:"view"},nt=D.sub,st=D.settings,!(Je||He&&He.render)){for(G in Be)C(G,Be[G]);for(ut in et=D.converters,tt=D.helpers,rt=D.tags,nt._tg.prototype={baseApply:b,cvtArgs:u,bndArgs:m,ctxPrm:d},K=nt.topView=new We,He?(He.fn.render=R,$=He.expando,He.observable&&(Ye(nt,He.views.sub),D.map=He.views.map)):(He={},N&&(xe.jsrender=He),He.renderFile=He.__express=He.compile=function(){throw"Node.js: use npm jsrender, or jsrender-node.js"},He.isFunction=function(t){return"function"==typeof t},He.isArray=Array.isArray||function(t){return"[object Array]"==={}.toString.call(t)},nt._jq=function(t){t!==He&&(Ye(t,He),He=t,He.fn.render=R,delete He.jsrender,$=He.expando)},He.jsrender="v0.9.90"),at=nt.settings,at.allowCode=!1,J=He.isFunction,He.render=qe,He.views=D,He.templates=z=D.templates,at)E(ut);(st.debugMode=function(t){return void 0===t?at.debugMode:(at.debugMode=t,at.onError=t+""===t?new Function("","return '"+t+"';"):J(t)?t:void 0,st)})(!1),ot=at.advanced={useViews:!1,_jsv:!1},rt({if:{render:function(a){var e=this,t=e.tagCtx,n=e.rendering.done||!a&&(arguments.length||!t.index)?"":(e.rendering.done=!0,void(e.selected=t.index));return n},contentCtx:!0,flow:!0},for:{render:function(s){var e,l=!arguments.length,n=this,r=n.tagCtx,d="",p=0;return n.rendering.done||(e=l?r.view.data:s,void 0!==e&&(d+=r.render(e,l),p+=Z(e)?e.length:1),(n.rendering.done=p)&&(n.selected=r.index)),d},flow:!0},props:{baseTag:"for",dataMap:T(H),flow:!0},include:{flow:!0},"*":{render:e,flow:!0},":*":{render:e,flow:!0},dbg:tt.dbg=et.dbg=n}),et({html:V,attr:V,url:function(t){return null==t?null===t?t:"":encodeURI(""+t)}})}return at=nt.settings,Z=(He||Je).isArray,st.delimiters("{{","}}","^"),Ke&&Je.views.sub._jq(He),He||Je},window);let BuxlFooterView=function(e){BuxlViewPrototype.call(this,e)};BuxlFooterView.prototype=Object.create(BuxlViewPrototype.prototype);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var s=t[a](o),l=s.value}catch(e){return void r(e)}return s.done?void e(l):Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}let BuxlIntroView=function(e){BuxlViewPrototype.call(this,e)};BuxlIntroView.prototype=Object.create(BuxlViewPrototype.prototype),BuxlIntroView.prototype.animateLogo=(()=>{var e=_asyncToGenerator(function*(){let e=this,t=anime.timeline({autoplay:!0});yield t.add({targets:"#path82",translateX:["-30%","0%"],elasticity:100}).add({targets:"#path226",translateY:["200%","0%"],offset:"-=700"}).add({targets:"#path298",translateY:["200%","0%"],offset:"-=900"}).add({targets:"#path154",translateX:["30%","0%"],offset:"-=800"}).finished});return function(){return e.apply(this,arguments)}})(),BuxlIntroView.prototype.render=(()=>{var e=_asyncToGenerator(function*(e){yield this.animateLogo();let t=this,r=anime.timeline({autoplay:!0});r.add({targets:"svg",height:["100","13"],opacity:["1","0"],elasticity:0,translateY:["60%"],ease:"linear",complete:function(){let t=document.querySelector(".buxllogo");t&&t.classList.remove("buxllogo"),e&&e()}}).add({targets:"svg",height:["0px","100px"],opacity:["0","1"],translateY:["0%"],elasticity:0,ease:"linear"})});return function(){return e.apply(this,arguments)}})();let BuxlLegalView=function(e){BuxlViewPrototype.call(this,e)};BuxlLegalView.prototype=Object.create(BuxlViewPrototype.prototype),BuxlLegalView.prototype.render=function(e){let t=jsrender.render[e+"tmpl"]({}),r=document.getElementById(this.elements.targetView);r.innerHTML=t};let BuxlListView=function(e){BuxlViewPrototype.call(this,e)};BuxlListView.prototype=Object.create(BuxlViewPrototype.prototype);let BuxlNavigationView=function(e){BuxlViewPrototype.call(this,e)};BuxlNavigationView.prototype=Object.create(BuxlViewPrototype.prototype),BuxlNavigationView.prototype.toggleFavorite=function(e){let t=this,r="rgba(183, 226, 248, 0.75)",n="rgba(255, 0, 102 , 1)",a=n,o=r;if(e.isFavorite&&(a=r,o=n),anime({targets:"[data-game-hash=\""+e.gameHash+"\"] .favorite > i",scale:[1,99,1],color:[a,o],easing:"easeOutQuad"}),"favorites"==e.route){let t=document.querySelector("[data-game-hash=\""+e.gameHash+"\"]");if(!t)return;t.classList.contains("fade-out")?anime({targets:t,opacity:1,easing:"easeOutQuad",complete:function(){t.classList.remove("fade-out")}}):anime({targets:t,opacity:.3,easing:"easeOutQuad",complete:function(){t.classList.add("fade-out")}})}},BuxlNavigationView.prototype.showSolutions=function(e){let t=document.querySelector("[data-game-hash=\""+e+"\"] > .solutioncloud");t&&t.classList.toggle("not-visible")},BuxlNavigationView.prototype.goBack=function(){window.history.back()};let BuxlRoutingView=function(e){BuxlViewPrototype.call(this,e)};BuxlRoutingView.prototype=Object.create(BuxlViewPrototype.prototype);function _asyncToGenerator(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,r){function n(a,o){try{var s=t[a](o),l=s.value}catch(e){return void r(e)}return s.done?void e(l):Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)})}return n("next")})}}let BuxlGameView=function(e){BuxlViewPrototype.call(this,e)};BuxlGameView.prototype=Object.create(BuxlViewPrototype.prototype),BuxlGameView.prototype.onLetterClick=function(e){let t=document.querySelector("[data-game-btn-id=\""+e+"\"]");anime({targets:t,scale:.8,easing:"easeInOutQuad",direction:"alternate",duration:100,complete:function(){t.style=""}})},BuxlGameView.prototype.setSelectedLetterInactive=function(e,t){this.onLetterClick(e),this.changeButtonByHash(e,"letter-selected","letter-inactive"),this.changeButtonByHash(t,"letter-notselected","letter-inactive")},BuxlGameView.prototype.setSelectedLetter=function(e,t){this.onLetterClick(e),this.changeButtonByHash(e,"letter-inactive","letter-selected"),this.changeButtonByHash(t,"letter-inactive","letter-notselected")},BuxlGameView.prototype.swapLetter=function(e,t){this.onLetterClick(t),this.changeButtonByHash(e,"letter-selected","letter-notselected"),this.changeButtonByHash(t,"letter-notselected","letter-selected")},BuxlGameView.prototype.setSelectedLetters=function(e){for(let t,r=0;r<e.length;r++)t=document.querySelector("[data-solution-index=\""+r+"\"]"),t&&(t.innerHTML=e[r])},BuxlGameView.prototype.animateWrongWord=(()=>{var e=_asyncToGenerator(function*(e){this.registerEvents(!1),this.curDataModel=e;let t=this,r=document.querySelector("#buxlhelp");r.src="images/buxlne.svg",anime({targets:".letter-solution-mass",duration:1e3,backgroundColor:"#ff0066",easing:"easeOutBack"}),anime({targets:r,translateX:[".60rem","-.60rem",".60rem"],duration:500,direction:"alternate",loop:2,easing:"easeInOutQuart"}),anime({targets:".gamewrap",translateX:["-.60rem",".60rem","-.60rem"],duration:500,loop:2,easing:"easeInOutQuart",direction:"alternate",complete:t.render.bind(t,e,!0)})});return function(){return e.apply(this,arguments)}})(),BuxlGameView.prototype.animateSolved=(()=>{var e=_asyncToGenerator(function*(e){return this.registerEvents(!1),anime({targets:".letter-solution-mass",duration:500,backgroundColor:"#b2ff33",easing:"easeOutBack"}),yield anime({targets:".letter-selected",duration:200,delay:0,opacity:.2,loop:5,easing:"linear"}).finished,this.render(e,!0),yield anime({targets:".latestsolved",scale:2,duration:400,opacity:.6,direction:"alternate",easing:"easeInOutQuart"}).finished,!0});return function(){return e.apply(this,arguments)}})();let funcx=function(){return anime.random(-40,40)+"px"},funcy=function(){return anime.random(-40,40)+"px"};BuxlGameView.prototype.animateGameFinished=(()=>{var e=_asyncToGenerator(function*(e,t){this.registerEvents(!1),yield this.animateSolved(e);let r=this;yield anime({targets:".solutioncloud > span",duration:250,scale:1.3,delay:0,opacity:.2,loop:5,easing:"linear"}).finished,yield anime({targets:".letter-mass",translateX:[funcx(),funcx()],translateY:[funcy(),funcy()],scale:[1,20],opacity:[1,0],backgroundColor:"#b2ff33",easing:"easeInOutQuart",delay:0,duration:400}).finished,this.render(t,!1),anime({targets:".letter-mass",translateX:["+=0",0],translateY:["+=0",0],scale:[20,1],opacity:[0,1],easing:"easeInOutQuart",delay:0,duration:400,complete:function(){BuxlViewPrototype.prototype.routeTo.call(r,"buxl",t.gameHash)}})});return function(){return e.apply(this,arguments)}})(),BuxlGameView.prototype.animateGameReload=function(e){BuxlViewPrototype.prototype.routeTo.call(this,"buxl",e.gameHash)},BuxlGameView.prototype.animateHint=function(e){let t=document.querySelector("[data-game-btn-id=\""+e+"\"]"),r=document.querySelector("#buxlhelp");r.src="images/buxlwoh.svg",anime({targets:t,rotate:["-35","35","-35"],duration:350,loop:4,easing:"easeInOutQuart",direction:"alternate",complete:function(){t.style=""}}),anime({targets:r,scale:.8,duration:350,easing:"easeInOutQuart",direction:"alternate",complete:function(){r.style="",setTimeout(function(){r.src="images/buxlsmile.svg"},200)}})},BuxlGameView.prototype.animateHintError=function(){let e=document.querySelectorAll(".gamewrap > div > div > div"),t=document.querySelector("#buxlhelp");t.src="images/buxlne.svg",anime({targets:".letter-solution-mass",duration:100,backgroundColor:"#ff0066",easing:"easeOutBack"}),anime({targets:e,translateX:["-.60rem",".60rem","-.60rem"],duration:60,direction:"alternate",loop:4,easing:"easeInOutQuart",complete:function(){for(let t=0;t<e.length;t++)e[t].style=""}}),anime({targets:t,rotate:["-15","15","-15"],duration:60,direction:"alternate",loop:4,easing:"easeInOutQuart",complete:function(){t.style=""}})},BuxlGameView.prototype.changeButtonByHash=function(e,t,r){let n=document.querySelector("#buxlhelp");n.src="images/buxlsmile.svg",anime({targets:".letter-solution-mass",duration:100,backgroundColor:"#b7e2f8",easing:"easeOutBack"});let a=document.querySelector("[data-game-btn-id=\""+e+"\"]");a&&a.classList.contains(t)&&(a.classList.remove(t),a.classList.add(r))};let getBuxlGameEvents=function(){let e=[];return e.push({target:".gamewrap",triggers:"click touchend touchmove",f:"onSelectLetterEvent"}),e.push({target:"body",triggers:"keypress",f:"onKeyPressLetterEvent"}),e.push({target:"#help",triggers:"click touchend touchmove",f:"onClickSolutionEvent"}),e},getBuxlNavigationEvents=function(){let e=[];return e.push({target:".navbar",triggers:"click touchend",f:"onNavigationClickEvent"}),e},getBuxlIntroEvents=function(){let e=[];return e.push({target:"#svg2",triggers:"click touchend",f:"onLogoClickEvent"}),e};document.addEventListener("DOMContentLoaded",function(){let e=new BuxlRoutingController;e.registerRoutes();let t=new BuxlGameModel(data),r=new BuxlFavoritesModel,n=new BuxlListModel({buxlGameModel:t,buxlFavoritesModel:r}),a=[];a.push("buxlstmpl"),a.push("solutionstmpl");let o=["buxlstmpl","navtmpl","solutionstmpl"];o.push("privacytmpl"),o.push("imprinttmpl");let s=new BuxlIntroView({targetView:null,targetTemplate:null,events:getBuxlIntroEvents()}),l=new BuxlFooterView({targetView:"footer",targetTemplate:"footertmpl",events:null}),d=new BuxlGameView({targetView:"content",targetTemplate:"gametmpl",templates:a,events:getBuxlGameEvents()}),p=new BuxlListView({targetView:"content",targetTemplate:"buxlslisttmpl",templates:o}),g=new BuxlNavigationView({targetView:"navigation",targetTemplate:"navtmpl",events:getBuxlNavigationEvents()}),u=new BuxlLegalView({targetView:"content",targetTemplate:null,templates:[],events:null});e.register("intro",s,null),e.register("buxlgame",d,t),e.register("navbar",g,r),e.register("list",p,n),e.register("legal",u,null),e.register("footer",l,null);let c=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor);if(!c){let e=document.getElementsByTagName("html")[0];e&&e.setAttribute("class","not-chrome")}e.init()});